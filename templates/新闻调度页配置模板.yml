description: |-
  Version: 2020_07_14
  配置完成后先启用更新调度的计划手动触发, 排错完成后开始历史调度, 开始下一个配置
doc_rate: 1
batch_start:
  type: once
  num: []
  unit: day
ratio: 0.99
size: small
global_dedup: ''
type: script
use_incr_id: false
expression: |
  def start_requests(**kwargs):
      web_site = "网站名"

      web_site_url = "栏目的链接"
      hub_fields = {"web_site": web_site, "web_site_url": web_site_url}
      for p in range(None):
          p = f"_{p}" if p else ""
          url = f"列表页链接然后修改为格式化字符串"
          yield {"url": url, "page_rule_id": None, "hub_fields": hub_fields}

      web_site = "网站名"

      web_site_url = "栏目的链接"
      hub_fields = {"web_site": web_site, "web_site_url": web_site_url}
      for p in range(None):
          p = f"_{p}" if p else ""
          url = f"列表页链接然后修改为格式化字符串"
          yield {"url": url, "page_rule_id": None, "hub_fields": hub_fields}

      yield {"url": web_site_url, "page_rule_id": None, "hub_fields": hub_fields}

      url = ""
      for p in range(None):
          p = f"_{p}" if p else ""
          data = f""
          yield {
              "url": url,
              "page_rule_id": None,
              "data": data,
              "method": "POST",
              "hub_fields": hub_fields,
          }

      cates = [
          {"cate": "栏目链接的差异部分", "pages": None},
          {"cate": "栏目链接的差异部分", "pages": None},
      ]
      for each in cates:
          cate = each["cate"]
          pages = each["pages"]
          web_site_url = f"栏目的链接格式化"
          hub_fields = {"web_site": web_site, "web_site_url": web_site_url}
          for p in range(pages):
              p = f"_{p}" if p else ""
              url = f""
              yield {"url": url, "page_rule_id": None, "hub_fields": hub_fields}
page_rule_id: null
table: ''
instance_name: ''
url_template: ''
missing_field: ''
urls: []
checkedRuleCode: ''
module: ''
